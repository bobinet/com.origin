##联合提货权

###概述
1. 联合提货权（以下简称JT）是P2级别利益共同体（以下简称“父共同体”）的一种内部记账单位。
2. 采用本机制的父共同体，内部所有P1级别利益共同体（以下简称“子共同体”）均只使用联合提货权报价，只接受联合提货权购买产品和服务，只发放联合提货权作为报酬。
3. **兑换处**提供联合提货权与外部记账单位（以下简称“外币”）的兑换，由父共同体统一管理。两级共同体及其成员遵守统一的兑换规则。

###作用
1. 隔离内外价值体系，使各项资源的内部估价独立于外部环境，可以跟随自身发展节奏而调整。
2. 统一利益兑现渠道，减少外币的消耗速度，成员只能通过JT销售获利。
3. 分享成果分担损失，兑换比率随着产品盛衰涨跌，JT持有者的利益随之升降。
4. 提高兑现优先级，成员通过兑换处直接获利，优先级高于其它支出以及股权分红。
5. 降低合作成本。各子共同体互相交易直接在内部完成，不产生外币支付成本以及相关税负。
6. 独立记账，各方无法篡改数据，确保账目安全。
7. 原生交易和分配机制，无需借助外部规则实现数字资产的交易、软件法人的财产。

###技术思路
1. 账目存储：假设全局账目可以安全地读写，设计可以切换具体方案的模块化接口，范例可以json格式展示，范例代码可以读写文件方式实现。
	<table>
	<tr><th>方案</th><th>优点</th><th>缺点</th></tr>
	<tr><td>数字货币区链块</td><td>经过实际验证的成熟方案</td><td>需要一直有在线节点。“挖矿”有成本。</td></tr>
	<tr><td>docker</td><td>不需要一直有在线节点，借助现成镜像管理功能建立账目，有可能无需“挖矿”。</td><td>最新镜像定位、index服务器中心化、分支合并等问题。</td></tr>
	<tr><td>基于七牛等存储服务商</td><td>不需要一直有在线节点，安全和带宽有专业服务</td><td>需要只增不删的扩展方案，有成本，服务商中细化等问题。</td></tr>
	<tr><td>基于git</td><td>不需要一直有在线节点，明账免费，一定程度上无中心。</td><td>需要只增不删的扩展方案。</td></tr>
	</table>
2. 假设任何时期有当时安全的数字签名算法。设计可以切换签名算法的模块化接口，范例以rsa算法实现数字签名。
3. 增加以算法定义的账户，实现规则已知的交易和分配功能。对应操作的账目不是以数字签名保证其合法性，而是以{算法ID，操作ID，输入条件}来保证其合法性。比如{某利益共同体的主账户ID，年终分配操作ID，2014-12-31-24:00:00}可以定义一组支出账目，任何一方可以运行指定算法验证其合法性，从而决定是否允许这组账目写入存储（实际上是决定是否使用写入后的总账，还是使用其写入前的）。算法定义应能切换不同的编程语言，由于二进制执行文件随操作系统而变化，解释型语言才能保持一致的数字签名，范例以js实现。

###账户
1. 普通账户：以公钥（或其经过一组计算后的结果）作为账户ID。该密钥对用于账户相关数字签名。
	1. 账户定义数据结构：
		> {"Account":{"Type":"normal","ID":"xxxx","PubKey":"kkkkkkkk","CreateTime":"yyyy-mm-dd hh-mm-ss","Remark":"rrrr"}}
	2. 数据说明：
		- xxxx：账户ID。
		- kkkkkkkk：完整的公钥。
		- yyyy-mm-dd hh-mm-ss：创建日期。
		- rrrr：备注文本。
2. 自动账户：以一组源代码的数字摘要（或其经过一组计算后的结果）作为账户ID。这组源代码定义了所有支出操作，对每种操作定义了激发条件和内部唯一的操作ID。自动账户由利益共同体使用，每次规则升级将产生不同的自动账户。
	1. 账户定义数据结构：
		> {"Account":{"Type":"auto","ID":"xxxx","SourceFile":"ffff","CreateTime":"yyyy-mm-dd hh-mm-ss","Remark":"rrrr"}}
	2. 数据说明：
		- xxxx：账户ID，是源代码文件的数字摘要。
		- ffff：完整的源代码，通常客户端会自动下载到本地，每次使用前验证数字摘要。
		- yyyy-mm-dd hh-mm-ss：创建日期。
		- rrrr：备注文本。
3. 根账户：以一组源代码的数字摘要（或其经过一组计算后的结果）作为账户ID，同时也是这种JT的ID。这组源代码定义了所有发行和销毁操作，对每种操作定义了激发条件和内部唯一的操作ID。根账户由JT使用，每次发行和销毁规则升级将产生不同的根账户，实质上产生新种类的JT。
	1. 账户定义数据结构：
		> {"Account":{"Type":"root","ID":"xxxx","SourceFile":"ffff","CreateTime":"yyyy-mm-dd hh-mm-ss","Remark":"rrrr"}}
	2. 数据说明：同自动账户。

###转账Transfer
1. 用途：
2. 账目数据结构：
	> {data:{"JTID":"xxxx","Type":"Transfer","Sender":"yyyy","Receiver":"zzzz","Amount":aaa.bb,"Time":"yyyy-mm-dd hh-mm-ss"},"sig":"ssss"}

3. 数据说明
	- xxxx：JT种类的ID，通常是这种JT的发行和销毁算法源代码的数字摘要。
	- yyyy：支付方的账户ID。
	- zzzz：接收方的账户ID。
	- aa.bb：转账金额。
	- yyyy-mm-dd hh-mm-ss：转账时间。
	- ssss：data的数字签名。
4. 范例

###发行Issue


###交易Exchange


###分配Alloc